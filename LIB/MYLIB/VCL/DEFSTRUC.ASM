;------------------------------------------------------------------------------
;             СТРУКТУРЫ КОМПОНЕНТОВ ИНТЕРФЕЙСА ДЛЯ ИГРЫ «САПЁР»
;------------------------------------------------------------------------------
;
; Каждый визуальный элемент оформлен в виде структуры, имитирующей наследование
; и инкапсуляцию в стиле ООП. Базовая структура — UIElement. Все остальные
; компоненты наследуют её, расширяя набор полей.
;
;------------------------------[ UIElement ]-----------------------------------
; Базовая структура для всех компонентов интерфейса.
; Содержит координаты, размеры и цвет.
;
struct UIElement
    x       dw ?    ; Координата X (относительно родителя или экрана)
    y       dw ?    ; Координата Y
    wt      dw ?    ; Ширина (в пикселях)
    ht      dw ?    ; Высота
    color   dw ?    ; Основной цвет (фон, заливка)
ends

;------------------------------[ Panel ]---------------------------------------
; Панель — контейнер для других компонентов. Не содержит текста.
;
struct Panel UIElement
    frame   dw ?    ; Параметры рамки или идентификатор стиля
    draw    dw ?    ; Указатель на процедуру отрисовки
ends

;------------------------------[ Label ]---------------------------------------
; Метка — компонент только для отображения текста.
;
struct Label UIElement
    frame       dw ?    ; Параметры рамки или стиля
    text        dw ?    ; Указатель на текстовую строку
    text_color  dw ?    ; Цвет текста
	
    draw        dw ?    ; Метод отрисовки
ends

;------------------------------[ Edit ]----------------------------------------
; Поле редактирования текста — может реагировать на клики.
;
struct Edit UIElement
    frame       dw ?    ; Параметры рамки
    text        dw ?    ; Указатель на редактируемый текст
    text_color  dw ?    ; Цвет текста
	
    draw        dw ?    ; Метод отрисовки
    on_click    dw ?    ; Обработчик события клика
ends

;------------------------------[ Button ]--------------------------------------
; Кнопка — потомок Label с дополнительным состоянием и обработчиком клика.
;
struct Button UIElement
    frame       dw ?    ; Параметры рамки
    text        dw ?    ; Указатель на строку
    text_color  dw ?    ; Цвет текста
    state       dw ?    ; Состояние (0 = обычное, 1 = нажато)
	
    draw        dw ?    ; Метод отрисовки
    on_click    dw ?    ; Обработчик клика
ends

;------------------------------[ Grid ]----------------------------------------
; Сетка — компонент для отображения игрового поля.
;
struct Grid UIElement
    frame               dw ?    ; Параметры рамки
    cols                dw ?    ; Количество колонок
    rows                dw ?    ; Количество строк
    cell_size           dw ?    ; Размер ячейки (ширина = высота)
	
    resize_cell         dw ?    ; Функция масштабирования ячеек
    draw                dw ?    ; Метод отрисовки всей сетки
    open_cell           dw ?    ; Метод отрисовки одной ячейки
    fill_grid           dw ?    ; Отрисовка именно клеток
    update_dimensions   dw ?    ; Перерасчёт размеров и позиций
    on_click            dw ?    ; Обработчик нажатия Grid
ends

;------------------------------[ Form ]----------------------------------------
; Форма — главный контейнер. Может содержать другие панели и элементы.
;
struct Form UIElement
    bw              dw ?    ; Толщина рамки
    border_color    dw ?    ; Цвет рамки
    draw            dw ?    ; Метод отрисовки формы
ends

;------------------------------[ Clickable ]-----------------------------------
; Вспомогательная структура для хранения кликабельных зон.
;
struct Clickable
    x       dw ?    ; X-координата области
    y       dw ?    ; Y-координата
    wt      dw ?    ; Ширина
    ht      dw ?    ; Высота
    handler dw ?    ; Указатель на функцию обработки клика
ends
